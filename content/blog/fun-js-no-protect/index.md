---
title: "FunES: noprotect"
date: "2019-12-03T19:47:53.000Z"
description: "Опасные комментарии А знаете ли вы, что в Chrome есть специальные служебные комментарии для управления потоком V8 ?  К примеру, "
---

<h2 id="-">Опасные комментарии</h2><p>А знаете ли вы, что в Chrome есть специальные служебные комментарии для управления потоком V8 ?</p>
<p>К примеру, есть потенциально опасный код вида:</p>
<pre><strong>for</strong> (<strong>let</strong> i=16e6; i&lt;17e6; i++) console.log(i);</pre>
<p>Этот код будет работать бесконечно, но Chrome решит не выполнять этот код и выдаст варнинг. Почему, можно узнать из <a href="https://www.youtube.com/watch?v=5zSR7FfaLCY" target="_blank" rel="noopener noreferrer">этого видео</a>.</p>
<p>Chrome постарается не выполнять потенциально опасный код, чтобы браузер “не повесился”. Но если вдруг, в вашем потенциально опасном коде браузер видит комментарий вида <code>//noprotect</code> — то хром решит что вы понимаете что делаете и специально пометили ваш код как разрешенный к исполнению:</p>
<pre><em>//noprotect</em><strong><br>for</strong> (<strong>let</strong> i=16000000; i&lt;17000010; i++) console.log(i);</pre>
<p>Не советую проверять, но все же если интересно — этот код с таким комментарием должен повесить ваш браузер, так как цикл будет бесконечным (проверял в Chrome78 через <a href="https://jsbin.com/" target="_blank" rel="noopener noreferrer">JSBin</a>).</p>
<p>Отсюда выходит, что безобидный комментарий, написанный дабы кого-то предупредить может оказаться управляющим (помните такие комментарии в IE были для HTML ?). И вот вопрос, сколько еще может быть секретов в браузере, которые просто невозможно знать в силу избытка информации. Читать спеки, запоминать, учиться и учиться…</p>




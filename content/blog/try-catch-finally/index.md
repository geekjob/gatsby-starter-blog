---
title: "Try/Catch/Finally"
date: "2019-02-19T17:51:12.000Z"
description: "Задачки с собеседований и не только Материал в этом посте справедлив для многих языков программирования. Но, как всегда, примеры"
---

<h4>Задачки с собеседований и не только</h4>
<p>Материал в этом посте справедлив для многих языков программирования. Но, как всегда, примеры буду показывать на JS, так как мне просто нравится это магический, напичканный костылями, язык ☺</p>
<p>В мире программирования есть общие вопросы, которые задаются на разные позиции в разных областях. Один из таких вопросов: как работает перехват исключений, а именно рассказать как поведет себя блок:</p>
<pre><strong>try</strong> {} <strong>catch</strong> {} <strong>finally</strong> {}</pre>
<p>Многие знают как ловить исключения и как работает блок try/catch. Но вот добавление блока finally может сильно поменять логику и, даже, удивить, если не знать правил его работы. Этот вопрос можно услышать на собеседовании по Java, C#, PHP и нашем любимом JavaScript.</p>
<p>Вроде бы не такой-то уж и сложный вопрос, но в нем легко запутаться. Рассмотрим такой случай:</p>

<p>Как мы видим тут уже исключение в исключении. Код отработает точно так же, как и, к примеру, в Java. В Java вызов System.exit() не позволяет сработать блоку finally.</p>
<p>В Node.js аналогичная ситуация: process.exit() не дает отработать блоку finally.</p>
<p>Для тех, кто пишет на PHP, вопрос как отработает этот код:</p>
<pre><strong>&lt;?php</strong> <strong>declare</strong>(<em>strict_types=1</em>);</pre>
<pre><strong>try</strong> {<br>    var_dump('try');<br>    foo();<br>}<br><strong>catch</strong> (Error $e) {<br>    var_dump('catch');<br><strong>exit</strong>(1);<br>}<br><strong>finally</strong> {<br>    var_dump('finally');<br>}</pre>
<p>Ответ не даю. Догадаетесь сами ?</p>




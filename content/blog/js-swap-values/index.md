---
title: "Обменяться значениями в ES2015"
date: "2016-11-23T21:26:09.000Z"
description: "Своп 2х переменных. Задачки с собеседований Классика жанра, задачка, которая гуляет по собеседованиям, причем не только по JS. В"
---

<h4>Своп 2х переменных. Задачки с собеседований</h4>
<p>Классика жанра, задачка, которая гуляет по собеседованиям, причем не только по JS. В JS она решается особенно интересно и необычными способами, благодаря особенностям и гибкости языка. А с приходом ES2015 эта задача решается новыми способами, которые я и покажу в конце статьи. Но обо всем по порядку. Начнем с условия и тривиальных примеров, переходя плавно от ES3 к ES2015.</p>
<h4>Дано</h4>
<p>Есть две переменные a и b. Нужно в a присвоить значение b и наоборот, в b присвоить значение a. При этом нельзя использовать третью переменную. Для начала значения будут числовыми, так как именно с числами много интересных вариантов.</p>
<pre><em>// Дано<br></em><strong>var</strong> a = 1;<br><strong>var</strong> b = 2;</pre>
<p>И так, используя простейшие математические операции, мы можем получить такое решение:</p>
<pre>a = a + b<br>b = a - b<br>a = a - b</pre>
<p>Улучшаем:</p>
<pre>a += b<br>b  = a — b<br>a -= b</pre>
<h4>Используем XOR</h4>
<pre>a = a ^ b<br>b = a ^ b<br>a = a ^ b</pre>
<p>Делаем еще круче:</p>
<pre>a ^= b;<br>b ^= a;<br>a ^= b;</pre>
<h3>Трюки</h3>
<p>А теперь будем показывать магию и трюки Javascript.</p>
<p>Свапнуть в одну строку:</p>
<pre>a = b + (b=a, 0)</pre>
<p>или</p>
<pre>b=a+(a=b)-b</pre>
<p>В одну строку, используя XOR</p>
<pre>a = a^b^(b^=(a^b))</pre>
<h3>Решения для всех типов значений</h3>
<p>А что если у нас не числа, как быть? Так же есть интересные решения.</p>
<p>Используя функцию:</p>
<pre>b = (<strong>function</strong>(a){ <strong>return</strong> a })(a, a=b);</pre>
<p>переписав на ES6:</p>
<pre>b = (a=&gt;a)(a,a=b);</pre>
<p>Но есть способ еще лучше. Используем разыменование массива:</p>
<pre>// ES3+<br>a = [b, b=a][0];</pre>
<h4>ES2015+ методы</h4>
<p>Используем деструктуризацию объекта:</p>
<pre>{ <strong>a</strong>: b, <strong>b</strong>: a } = { <em>a</em>,<em> b</em> }</pre>
<p>Деструктуризация массива:</p>
<pre>[<strong>a</strong>, <strong>b</strong>] = [<strong>b</strong>, <strong>a</strong>]</pre>
<h3>UPD</h3>
<p>Варианты от читателя:</p>
<pre>a=b+((b=a)&amp;&amp;0)</pre>
<pre>a=b+0*(b=a)</pre>


